<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
            content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>jst</title>
</head>
<body>
<div id="box"></div>
<script src="js/nej-framework-master/src/define.js"></script>
<script>
  NEJ.define([
    'util/template/jst'
  ], function(_t) {
    // 添加JST模板缓存
    var _html_seed = _t._$add('\
        <table class="w-table">\
          <thead>\
            <tr><th>序号</th><th>姓名</th><th>性别</th></tr>\
          </thead>\
          {if !defined("workers")}\
          <tr><td colspan="3">数据加载失败，请稍后再试！</td></tr>\
          {elseif workers&&workers.length}\
            {list workers as x}\
              <tr{if x_index==x_length-1} class="last"{/if}>\
                <td>${x_index+1}</td>\
                <td>${x.name}</td>\
                <td>{if x.gender==1}男{else}女{/if}</td>\
              </tr>\
            {/list}\
          {else}\
          <tr><td colspan="3">没有工人！</td></tr>\
          {/if}\
        </table>\
    ');
    // 返回整合数据后的html代码
    _t._$render('box', _html_seed, {
      workers: [
        {name: 'abc', gender: 1},
        {name: 'def', gender: 1},
        {name: 'ghi'}
      ]
    });
  })
</script>
</body>
</html>